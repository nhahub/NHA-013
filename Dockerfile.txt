# Dockerfile

# استخدم صورة بايثون أساسية لبيئة التشغيل
FROM python:3.10-slim

# قم بتعيين مجلد العمل داخل حاوية Docker
WORKDIR /app

# 1. انسخ ملف المتطلبات وقم بتثبيت المكتبات
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# 2. انسخ كود الـ API والنموذج (الملفات الضرورية للتشغيل)
COPY api_server.py .
COPY health_chatbot_model.joblib .

# 3. أمر التشغيل: استخدام Uvicorn لتشغيل FastAPI
# (نستخدم المنفذ 7860 وهو المنفذ الافتراضي الذي يستخدمه Hugging Face للموديل)
CMD ["uvicorn", "api_server:app", "--host", "0.0.0.0", "--port", "7860"]